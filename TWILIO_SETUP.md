# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ WhatsApp –∏ SMS –≤ Twilio

**–ù–æ–º–µ—Ä Twilio:** +972 53-388-3507

## –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMS

1. –û—Ç–∫—Ä–æ–π [Twilio Console ‚Üí Phone Numbers](https://console.twilio.com/us1/develop/phone-numbers/manage/incoming)

2. –ù–∞–π–¥–∏ –∏ –≤—ã–±–µ—Ä–∏ –Ω–æ–º–µ—Ä **+972 53-388-3507**

3. –ü—Ä–æ–∫—Ä—É—Ç–∏ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **"Messaging Configuration"**

4. –ù–∞—Å—Ç—Ä–æ–π —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   - **Configure with:** Webhooks, TwiML Bins, Functions, Studio, or Proxy
   - **A message comes in:** 
     - Webhook URL: `https://api.leadertechnology.shop/sms`
     - HTTP Method: `POST`
   - **A message status changes (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
     - Webhook URL: `https://api.leadertechnology.shop/sms/status`
     - HTTP Method: `POST`

5. –ù–∞–∂–º–∏ **Save** –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WhatsApp (Sandbox –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

### 2.1 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WhatsApp Sandbox

1. –û—Ç–∫—Ä–æ–π [Twilio Console ‚Üí Messaging ‚Üí Try it out ‚Üí Try WhatsApp](https://console.twilio.com/us1/develop/sms/try-it-out/whatsapp-learn)

2. –¢—ã —É–≤–∏–¥–∏—à—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤–∏–¥–∞:
   ```
   join [–∫–æ–¥-—Å–ª–æ–≤–æ]
   ```
   –ù–∞–ø—Ä–∏–º–µ—Ä: `join yellow-tiger`

3. –û—Ç–∫—Ä–æ–π WhatsApp –Ω–∞ —Å–≤–æ—ë–º —Ç–µ–ª–µ—Ñ–æ–Ω–µ

4. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π —á–∞—Ç —Å –Ω–æ–º–µ—Ä–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑–∞–Ω –≤ –∫–æ–Ω—Å–æ–ª–∏ Twilio (–æ–±—ã—á–Ω–æ —ç—Ç–æ +1 415...)

5. –û—Ç–ø—Ä–∞–≤—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–æ–¥–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `join yellow-tiger`)

6. –¢—ã –ø–æ–ª—É—á–∏—à—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, —á—Ç–æ –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ sandbox

### 2.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook –¥–ª—è WhatsApp Sandbox

1. –í —Ç–æ–π –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Twilio Console –ø—Ä–æ–∫—Ä—É—Ç–∏ –≤–Ω–∏–∑ –¥–æ **"Sandbox Configuration"**

2. –ù–∞—Å—Ç—Ä–æ–π:
   - **When a message comes in:**
     - Webhook URL: `https://api.leadertechnology.shop/whatsapp`
     - HTTP Method: `POST`
   - **Status callback URL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
     - Webhook URL: `https://api.leadertechnology.shop/whatsapp/status`
     - HTTP Method: `POST`

3. –ù–∞–∂–º–∏ **Save**

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WhatsApp Production (–ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** WhatsApp Sandbox –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –î–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω—É–∂–Ω–æ –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ WhatsApp Business API.

### 3.1 –ü–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏ –Ω–∞ WhatsApp Business API

1. –û—Ç–∫—Ä–æ–π [Twilio Console ‚Üí Messaging ‚Üí Senders ‚Üí WhatsApp senders](https://console.twilio.com/us1/develop/sms/senders/whatsapp-senders)

2. –ù–∞–∂–º–∏ **"Request Access"** –∏–ª–∏ **"Get Started"**

3. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É –∑–∞—è–≤–∫–∏:
   - **Business Name:** Leader Technology
   - **Business Website:** (—Ç–≤–æ–π —Å–∞–π—Ç)
   - **Business Description:** –ü—Ä–æ–¥–∞–∂–∞ –∫–∞—Å—Å–æ–≤—ã—Ö –∞–ø–ø–∞—Ä–∞—Ç–æ–≤ –∏ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤
   - **Use Case:** Customer Support / Sales

4. –î–æ–∂–¥–∏—Å—å –æ–¥–æ–±—Ä–µ–Ω–∏—è –æ—Ç Twilio –∏ Meta (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 1-3 –¥–Ω—è)

### 3.2 –ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è

1. –ù–∞—Å—Ç—Ä–æ–π webhook –¥–ª—è production –Ω–æ–º–µ—Ä–∞ WhatsApp:
   - **When a message comes in:** `https://api.leadertechnology.shop/whatsapp`
   - **HTTP Method:** `POST`

2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ production –Ω–æ–º–µ—Ä

## –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∑–≤–æ–Ω–∫–æ–≤

–£–±–µ–¥–∏—Å—å, —á—Ç–æ –≥–æ–ª–æ—Å–æ–≤—ã–µ –∑–≤–æ–Ω–∫–∏ –≤—Å—ë –µ—â—ë —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —Ç–æ–º –∂–µ –Ω–æ–º–µ—Ä–µ:

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –Ω–æ–º–µ—Ä–∞ **+972 53-388-3507** –Ω–∞–π–¥–∏ —Ä–∞–∑–¥–µ–ª **"Voice Configuration"**

2. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:
   - **A call comes in:**
     - Webhook URL: `https://api.leadertechnology.shop/voice`
     - HTTP Method: `POST`

3. –ï—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ - –Ω–∞—Å—Ç—Ä–æ–π –∏ —Å–æ—Ö—Ä–∞–Ω–∏

## –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

1. –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:
   ```bash
   pm2 restart all
   ```

2. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏:
   ```bash
   pm2 logs
   ```

## –®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SMS

1. –û—Ç–ø—Ä–∞–≤—å SMS –Ω–∞ –Ω–æ–º–µ—Ä **+972 53-388-3507** —Å —Ç–µ–∫—Å—Ç–æ–º:
   ```
   ◊©◊ú◊ï◊ù
   ```

2. –¢—ã –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç –æ—Ç –±–æ—Ç–∞ –Ω–∞ –∏–≤—Ä–∏—Ç–µ

3. –ü–æ–ø—Ä–æ–±—É–π –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö:
   ```
   ◊õ◊û◊î ◊¢◊ï◊ú◊î ◊ß◊ï◊§◊î ◊®◊ï◊©◊û◊™?
   ```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ WhatsApp (Sandbox)

1. –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ WhatsApp Sandbox (–æ—Ç–ø—Ä–∞–≤–∏–ª `join [–∫–æ–¥]`)

2. –û—Ç–ø—Ä–∞–≤—å —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É –≤ WhatsApp:
   ```
   ◊©◊ú◊ï◊ù
   ```

3. –¢—ã –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –æ—Ç –±–æ—Ç–∞ —Å emoji üëã

4. –ü–æ–ø—Ä–æ–±—É–π –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å:
   ```
   ◊û◊î ◊î◊û◊ó◊ô◊® ◊©◊ú ◊ò◊®◊û◊ô◊†◊ú?
   ```

5. –ü–æ–ø—Ä–æ–±—É–π –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–µ—á—É:
   ```
   ◊ê◊†◊ô ◊®◊ï◊¶◊î ◊ú◊ë◊ï◊ê ◊ú◊®◊ê◊ï◊™
   ```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∑–≤–æ–Ω–∫–æ–≤

1. –ü–æ–∑–≤–æ–Ω–∏ –Ω–∞ –Ω–æ–º–µ—Ä **+972 53-388-3507**

2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≥–æ–ª–æ—Å–æ–º

3. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç (–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –∏ —Ç.–¥.)

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ WhatsApp/SMS

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞: `pm2 logs`
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ webhook URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `pm2 status`

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "Webhook URL is not valid"

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å HTTPS (–Ω–µ HTTP)
2. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –¥–æ–º–µ–Ω `api.leadertechnology.shop` –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ
3. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ cloudflare tunnel –∑–∞–ø—É—â–µ–Ω: `pm2 status`

### –ü—Ä–æ–±–ª–µ–º–∞: WhatsApp Sandbox –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏–ª `join [–∫–æ–¥]` –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä
2. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Sandbox Configuration
3. –ü–æ–ø—Ä–æ–±—É–π –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è: –æ—Ç–ø—Ä–∞–≤—å `stop`, –∑–∞—Ç–µ–º —Å–Ω–æ–≤–∞ `join [–∫–æ–¥]`

### –ü—Ä–æ–±–ª–µ–º–∞: SMS –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å –±–∞–ª–∞–Ω—Å Twilio –∞–∫–∫–∞—É–Ω—Ç–∞
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –Ω–æ–º–µ—Ä **+972 53-388-3507** –∞–∫—Ç–∏–≤–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Messaging Configuration –¥–ª—è –Ω–æ–º–µ—Ä–∞

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Twilio Console](https://console.twilio.com/)
- [WhatsApp Sandbox](https://console.twilio.com/us1/develop/sms/try-it-out/whatsapp-learn)
- [Phone Numbers](https://console.twilio.com/us1/develop/phone-numbers/manage/incoming)
- [Messaging Logs](https://console.twilio.com/us1/monitor/logs/sms)
- [Voice Logs](https://console.twilio.com/us1/monitor/logs/calls)
